<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap" rel="stylesheet">

<!-- Navbar -->
<nav class="navbar">
  <div class="navbar-brand">Clothing Store</div>

<div class="navbar-links">

  <button (click)="navigateTo('register')" title="Register">
    <i class="fas fa-user-pen"></i>
  </button>

  <button (click)="navigateTo('login')" title="Login">
    <i class="fas fa-right-to-bracket"></i>
  </button>

  <button (click)="navigateTo('cart')" title="Cart">
    <i class="fas fa-cart-shopping"></i>
  </button>

  <button (click)="navigateTo('orders')" title="Orders">
    <i class="fas fa-box-open"></i>
  </button>

  <button (click)="logout()" title="Logout">
    <i class="fas fa-right-from-bracket"></i>
  </button>

</div>
</nav>


<!-- Product Cards -->
<div class="product-container">
    <div class="product-card" *ngFor="let product of paginatedProducts" (click)="viewDetails(product)">
        <div class="product-image-wrapper">
            <img class="product-image" [src]="product.imageUrl" [alt]="product.name" />
        </div>
        <h4>{{ product.name }}</h4>
        <p class="product-price">
            ‚Çπ {{ product.price }}
            <span *ngIf="product.discount" class="product-discount">({{ product.discount }}% OFF)</span>
        </p>
        <div class="sizes">
            <label *ngFor="let size of product.sizes" class="size-option"
                [class.selected]="product.selectedSize === size">
                <input type="radio" name="size-{{ product._id }}" [(ngModel)]="product.selectedSize" [value]="size" />
                {{ size }}
            </label>
        </div>
       <div class="quantity-control">
  <button (click)="decreaseQuantity(product)">-</button>
  <input type="number" [(ngModel)]="product.quantity" min="1" />
  <button (click)="increaseQuantity(product)">+</button>
</div>

        <button class="add-to-cart" (click)="addToCart(product)">Add to Cart</button>

    </div>
</div>

<!-- Pagination -->
<div class="pagination">
    <button (click)="prevPage()" [disabled]="currentPage === 1">Previous</button>
    <span>Page {{ currentPage }} of {{ totalPages }}</span>
    <button (click)="nextPage()" [disabled]="currentPage === totalPages">Next</button>
</div>

<!-- Modal Backdrop -->
<div class="backdrop" *ngIf="selectedProduct" (click)="closeDetails()"></div>

<!-- Product Detail Modal -->
<div class="product-detail-panel" *ngIf="selectedProduct">
    <button class="close-btn" (click)="closeDetails()">‚úñ</button>

    <!-- Image with click zoom -->
    <img class="modal-image zoomable" [src]="selectedProduct.imageUrl" (click)="openZoom(selectedProduct.imageUrl)"
        alt="Product Image" />

    <h2>{{ selectedProduct.name }}</h2>
    <p class="product-price">
        ‚Çπ {{ selectedProduct.price }}
        <span *ngIf="selectedProduct.discount" class="product-discount">
            ({{ selectedProduct.discount }}% OFF)
        </span>
    </p>

    <p><strong>Category:</strong> {{ selectedProduct.category }}</p>

    <p><strong>Available Sizes:</strong></p>
    <div class="sizes">
            <label *ngFor="let size of selectedProduct.sizes" class="size-option"
                [class.selected]="selectedProduct.selectedSize === size">
                <input type="radio" name="size-{{ selectedProduct._id }}" [(ngModel)]="selectedProduct.selectedSize" [value]="size" />
                {{ size }}
            </label>
        </div>

    <p class="description"><strong>Description:</strong></p>
    <p>{{ selectedProduct.description }}</p>

    <div class="quantity-control">
  <button (click)="decreaseQuantity(selectedProduct)">-</button>
  <!-- <input type="number" class="Quantity" [(ngModel)]="selectedProduct.quantity" min="1" /> -->
   <input type="number" class="no-arrows Quantity" [(ngModel)]="selectedProduct.quantity" min="1" />
  <button (click)="increaseQuantity(selectedProduct)">+</button>
</div>


    <button class="add-to-cart" (click)="addToCart(selectedProduct)">Add to Cart</button>

</div>

<!-- Zoom Modal -->
<div class="zoom-modal" *ngIf="zoomImage" (click)="closeZoom()">
    <img [src]="zoomImage" alt="Zoomed Image" />
</div>


<footer class="footer">
    <div class="footer-container">
        <div class="footer-about">
            <h3>About Us</h3>
            <p>
                Clothing Store is your one-stop shop for trendy and affordable fashion.
                We bring the latest styles right to your doorstep.
            </p>
        </div>

        <div class="footer-contact">
            <h3>Contact Us</h3>
            <p>üìç Address: Ameerpet, Hydrabad, Telanaga 500073</p>
            <p>üìû Service Desk: +91-8501892849</p>
            <p>‚úâ Email: subbaraokunchala1128@gmail.com</p>
        </div>

        <div class="footer-links">
            <h3>Quick Links</h3>
            <ul>
                <li><a routerLink="/register">Register</a></li>
                <li><a routerLink="/login">Login</a></li>
                <li><a routerLink="/cart">Cart</a></li>
                <li><a routerLink="/orders">Orders</a></li>
            </ul>
        </div>
    </div>
    <div class="footer-bottom">
        <p>¬© {{ currentYear }} Clothing Store. All rights reserved.</p>
    </div>
</footer>